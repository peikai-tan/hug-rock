import{w as l}from"./index.DpBKQwNB.js";const m={items:[],totalPrice:0,itemCount:0};function s(){const{subscribe:r,set:c,update:o}=l(m);return{subscribe:r,addItem:n=>o(i=>{const e=i.items.findIndex(t=>t.id===n.id);return e!==-1?i.items[e].quantity+=1:i.items.push({...n,quantity:1}),i.itemCount+=1,i.totalPrice+=n.price,console.log(i.items),i}),removeItem:n=>o(i=>{const e=i.items.findIndex(t=>t.id===n.id);return e!==-1&&(i.items[e].quantity-=1,i.items[e].quantity<=0&&i.items.splice(e,1),i.itemCount-=1,i.totalPrice-=n.price),console.log(i.items),i}),clear:()=>c(m)}}const d=s();export{d as c};
