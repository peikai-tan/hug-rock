var N={},j={},A=34,v=10,E=13;function D(n){return new Function("d","return {"+n.map(function(r,e){return JSON.stringify(r)+": d["+e+'] || ""'}).join(",")+"}")}function M(n,r){var e=D(n);return function(o,c){return r(e(o),c,n)}}function Y(n){var r=Object.create(null),e=[];return n.forEach(function(o){for(var c in o)c in r||e.push(r[c]=c)}),e}function f(n,r){var e=n+"",o=e.length;return o<r?new Array(r-o+1).join(0)+e:e}function S(n){return n<0?"-"+f(-n,6):n>9999?"+"+f(n,6):f(n,4)}function X(n){var r=n.getUTCHours(),e=n.getUTCMinutes(),o=n.getUTCSeconds(),c=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":S(n.getUTCFullYear())+"-"+f(n.getUTCMonth()+1,2)+"-"+f(n.getUTCDate(),2)+(c?"T"+f(r,2)+":"+f(e,2)+":"+f(o,2)+"."+f(c,3)+"Z":o?"T"+f(r,2)+":"+f(e,2)+":"+f(o,2)+"Z":e||r?"T"+f(r,2)+":"+f(e,2)+"Z":"")}function b(n){var r=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function o(t,i){var a,s,u=c(t,function(l,h){if(a)return a(l,h-1);s=l,a=i?M(l,i):D(l)});return u.columns=s||[],u}function c(t,i){var a=[],s=t.length,u=0,l=0,h,y=s<=0,p=!1;t.charCodeAt(s-1)===v&&--s,t.charCodeAt(s-1)===E&&--s;function U(){if(y)return j;if(p)return p=!1,N;var d,k=u,m;if(t.charCodeAt(k)===A){for(;u++<s&&t.charCodeAt(u)!==A||t.charCodeAt(++u)===A;);return(d=u)>=s?y=!0:(m=t.charCodeAt(u++))===v?p=!0:m===E&&(p=!0,t.charCodeAt(u)===v&&++u),t.slice(k+1,d-1).replace(/""/g,'"')}for(;u<s;){if((m=t.charCodeAt(d=u++))===v)p=!0;else if(m===E)p=!0,t.charCodeAt(u)===v&&++u;else if(m!==e)continue;return t.slice(k,d)}return y=!0,t.slice(k,s)}for(;(h=U())!==j;){for(var T=[];h!==N&&h!==j;)T.push(h),h=U();i&&(T=i(T,l++))==null||a.push(T)}return a}function R(t,i){return t.map(function(a){return i.map(function(s){return g(a[s])}).join(n)})}function F(t,i){return i==null&&(i=Y(t)),[i.map(g).join(n)].concat(R(t,i)).join(`
`)}function I(t,i){return i==null&&(i=Y(t)),R(t,i).join(`
`)}function O(t){return t.map(w).join(`
`)}function w(t){return t.map(g).join(n)}function g(t){return t==null?"":t instanceof Date?X(t):r.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:o,parseRows:c,format:F,formatBody:I,formatRows:O,formatRow:w,formatValue:g}}var B=b(","),L=B.parse;function Z(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function P(n,r){return fetch(n,r).then(Z)}function V(n){return function(r,e,o){return arguments.length===2&&typeof e=="function"&&(o=e,e=void 0),P(r,e).then(function(c){return n(c,o)})}}var H=V(L);function C(n,r,e){this.k=n,this.x=r,this.y=e}C.prototype={constructor:C,scale:function(n){return n===1?this:new C(this.k*n,this.x,this.y)},translate:function(n,r){return n===0&r===0?this:new C(this.k,this.x+this.k*n,this.y+this.k*r)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};C.prototype;export{H as c};
