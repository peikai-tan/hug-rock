import{w as c}from"./index.CSM-hGIt.js";const s={items:[],totalPrice:0,itemCount:0},u={items:[],totalPrice:0,itemCount:0};function d(){const{subscribe:m,set:o,update:r}=c(u);return{subscribe:m,addItem:e=>r(i=>{const t=i.items.findIndex(n=>n.id===e.id);return t!==-1?i.items[t].quantity+=1:i.items.push({...e,quantity:1}),i.itemCount+=1,i.totalPrice+=e.price,i}),removeItem:e=>r(i=>{const t=i.items.findIndex(n=>n.id===e.id);return t!==-1&&(i.items[t].quantity-=1,i.items[t].quantity<=0&&i.items.splice(t,1),i.itemCount-=1,i.totalPrice-=e.price),i}),clear:()=>o(s)}}const l=d();export{l as c};
